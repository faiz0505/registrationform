<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="main">
        <form id="form">
            <input type="text" name="name" placeholder="Name" class="input name" required minlength="3" />
            <span class="error">*please enter valid name</span>
            <input type="email" name="email" placeholder="Email" class="input" required />
            <span class="error">*please enter valid email</span>
            <input type="password" name="pass" placeholder="Password" class="input" required minlength="6" />
            <span class="error">*please enter min 6 character</span>
            <input type="password" name="confirmPass" placeholder="confirm password" class="input" required
                minlength="6" />
            <span class="error">*password not match</span>
            <button type="submit" class="btn">SUBMIT</button>
        </form>
    </div>
</body>
<script>
    let user = {};
    let inputValues = {};
    let isValid = true;
    const inputs = document.querySelectorAll(".input");
    const form = document.querySelector("#form");
    const error = document.querySelectorAll('.error')
    form.addEventListener("submit", (e) => {
        e.preventDefault();
        // console.log(user);
        if (user.name == "" || user.email == "" || user.password == "" || user.confirmPass == "") {
            alert('please fill all fields');
        } else {
            if (user.pass === user.confirmPass) {
                console.log(user);
            }
        }

    });
    inputs.forEach((input) => {

        input.addEventListener('change', (e) => {
            user = { ...user, [e.target.name]: e.target.value };
        })

        input.addEventListener("keyup", (e) => {

            if (e.target.name == "name") {
                if (e.target.value.length > 3) {
                    error[0].classList.remove("notvalid");
                }

            } else if (e.target.name == "pass") {
                if (e.target.value.length >= 6) {
                    error[2].classList.remove("notvalid");
                }
            } else if (e.target.name === "confirmPass") {
                if (e.target.value === user.pass) {
                    error[3].classList.remove("notvalid");
                }
            }
        });


        input.addEventListener("blur", (e) => {
            if (e.target.name === "name") {
                if (e.target.value?.length < 3) {

                    error[0].classList.add("notvalid");
                }
            } else if (e.target.name == "pass") {
                if (e.target.value.length <= 6) {
                    error[2].classList.add("notvalid");
                }
            } else if (e.target.name === "confirmPass") {
                if (e.target.value !== user.pass) {
                    error[3].classList.add("notvalid");
                }
            }

        });
    });
</script>

</html>